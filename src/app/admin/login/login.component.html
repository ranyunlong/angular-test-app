<nz-layout class="layout">
    <nz-content>
        
    </nz-content>
    <nz-sider [nzWidth]="400" class="sider">
        <div class="form">
            <form nz-form #login [formGroup]="validateForm" (ngSubmit)="submitForm($event, login)">
                <nz-form-item>
                    <h2>登录</h2>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label nzFor="username">账号</nz-form-label>
                    <nz-form-control [nzValidateStatus]="getState('username')">
                        <input nz-input formControlName="username" type="text" id="username">   
                    </nz-form-control>
                    <nz-form-explain *ngIf="validator('username')">
                        账号有误！
                    </nz-form-explain>
                </nz-form-item >
                <nz-form-item>
                    <nz-form-label nzFor="password">密码</nz-form-label>
                    <nz-form-control [nzValidateStatus]="getState('password')">
                        <input  nz-input formControlName="password" type="password" id="password">
                    </nz-form-control>
                    <nz-form-explain *ngIf="validator('password')">
                        密码有误！
                    </nz-form-explain>
                </nz-form-item >
                <nz-form-item>
                    <nz-form-label nzFor="captcha">验证码</nz-form-label>
                    <nz-form-control [nzValidateStatus]="getState('captcha')">
                        <div class="captcha">
                            <input style="width: 200px;" nz-input formControlName="captcha" type="captcha" id="captcha">
                            <span>
                                <nz-spin [nzSpinning]="loading">
                                    <img (click)="updateUuid();loading=true" (load)="loading=false" style="height: 32px;" [src]="'/proxyapi/captcha.jpg?uuid='+ uuid" />
                                </nz-spin>
                            </span>
                        </div>
                    </nz-form-control>
                    <nz-form-explain *ngIf="validator('captcha')">
                        验证码有误！
                    </nz-form-explain>
                </nz-form-item >
                <nz-form-item class="submit">
                    <button nzBlock nz-button type="submit" [nzType]="'primary'">登录</button>
                </nz-form-item >
            </form>
        </div>
    </nz-sider>
</nz-layout>